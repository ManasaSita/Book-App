{"ast":null,"code":"import React,{useEffect}from'react';import{BrowserRouter as Router,Route,Routes,Navigate}from'react-router-dom';import ProtectedRoute from'./components/ProtectedRoute';import Layout from'./components/Layout';import Register from'./components/Auth/Register';import Login from'./components/Auth/Login';import Dashboard from'./components/Dashboard';import BookList from'./components/BookList';import AddBook from'./components/AddBook';import BookDetail from'./components/BookDetail';import Profile from'./components/Profile';import Friends from'./components/Friends';import FriendProfile from'./components/FriendProfile';import FriendRequestButton from'./components/FriendRequestButton';// Import the button if you want to use it somewhere\nimport{AuthProvider,useAuth}from'./context/AuthContext';import Notification from'./components/Notification';import ChatPage from'./components/ChatPage';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){return/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(AppContent,{})})});}function AppContent(){const{user,initAuth}=useAuth();useEffect(()=>{initAuth();},[initAuth]);if(user===undefined){// Still determining auth state\nreturn/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}return/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:user?/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\"}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsxs(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Layout,{}),children:[/*#__PURE__*/_jsx(Route,{path:\"profile\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Profile,{})})}),/*#__PURE__*/_jsx(Route,{path:\"dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Dashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"mybooks\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(BookList,{})})}),/*#__PURE__*/_jsx(Route,{path:\"add-book\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(AddBook,{})})}),/*#__PURE__*/_jsx(Route,{path:\"books/:bookId\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(BookDetail,{})})}),/*#__PURE__*/_jsx(Route,{path:\"friends/:id\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(FriendProfile,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/friends\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Friends,{})})}),/*#__PURE__*/_jsx(Route,{path:\"friends/messages\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(ChatPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})})]})]});}export default App;","map":{"version":3,"names":["React","useEffect","BrowserRouter","Router","Route","Routes","Navigate","ProtectedRoute","Layout","Register","Login","Dashboard","BookList","AddBook","BookDetail","Profile","Friends","FriendProfile","FriendRequestButton","AuthProvider","useAuth","Notification","ChatPage","jsx","_jsx","jsxs","_jsxs","App","children","AppContent","user","initAuth","undefined","path","element","to"],"sources":["/home/manasa/Projects/UpGrad/Project/bookShelf/client/src/App.js"],"sourcesContent":["import React, {useEffect} from 'react';\nimport { BrowserRouter as Router, Route, Routes, Navigate } from 'react-router-dom';\nimport ProtectedRoute from './components/ProtectedRoute';\nimport Layout from './components/Layout';\nimport Register from './components/Auth/Register';\nimport Login from './components/Auth/Login';\nimport Dashboard from './components/Dashboard';\nimport BookList from './components/BookList';\nimport AddBook from './components/AddBook';\nimport BookDetail from './components/BookDetail';\nimport Profile from './components/Profile';\nimport Friends from './components/Friends';\nimport FriendProfile from './components/FriendProfile';\nimport FriendRequestButton from './components/FriendRequestButton'; // Import the button if you want to use it somewhere\nimport { AuthProvider, useAuth } from './context/AuthContext';\nimport Notification from './components/Notification';\nimport ChatPage from './components/ChatPage';\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <Router>\n        <AppContent />\n      </Router>\n    </AuthProvider>\n  );\n}\n\nfunction AppContent() {\n  const { user, initAuth } = useAuth();\n\n  useEffect(() => {\n    initAuth();\n  }, [initAuth]);\n\n  if (user === undefined) {\n    // Still determining auth state\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <Routes>\n      <Route path=\"/\" element={user ? <Navigate to=\"/dashboard\" /> : <Navigate to=\"/login\" />} />\n      <Route path=\"/login\" element={<Login />} />\n      <Route path=\"/register\" element={<Register />} />\n\n      <Route path=\"/\" element={<Layout />}>\n        <Route path=\"profile\" element={<ProtectedRoute><Profile /></ProtectedRoute>} />\n        <Route path=\"dashboard\" element={<ProtectedRoute><Dashboard /></ProtectedRoute>} />\n        <Route path=\"mybooks\" element={<ProtectedRoute><BookList /></ProtectedRoute>} />\n        <Route path=\"add-book\" element={<ProtectedRoute><AddBook /></ProtectedRoute>} />\n        <Route path=\"books/:bookId\" element={<ProtectedRoute><BookDetail /></ProtectedRoute>} />\n        <Route path=\"friends/:id\" element={<ProtectedRoute><FriendProfile /></ProtectedRoute>} />\n        <Route path=\"/friends\" element={<ProtectedRoute><Friends /></ProtectedRoute>} />\n        <Route path=\"friends/messages\" element={<ProtectedRoute><ChatPage /></ProtectedRoute>} />\n        {/* Fallback route */}\n        <Route path=\"*\" element={<Navigate to=\"/login\" />} />\n      </Route>\n    </Routes>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}