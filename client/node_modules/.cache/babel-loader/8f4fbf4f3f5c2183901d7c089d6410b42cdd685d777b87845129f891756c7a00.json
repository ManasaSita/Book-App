{"ast":null,"code":"import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import{useAuth}from'../../context/AuthContext';import{login}from'../../services/api';// Ensure the login function is correctly imported from your API file\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState(null);const{login:authenticateUser}=useAuth();const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();try{const userData=await login(email,password);authenticateUser(userData);navigate('/dashboard');// Redirect to the homepage or dashboard after successful login\n}catch(err){console.error('Login failed',err);setError('Invalid email or password');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"login-page\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"app-name\",children:\"BookShlef\"}),/*#__PURE__*/_jsx(\"p\",{className:\"login\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",value:email,onChange:e=>setEmail(e.target.value),required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Don't have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register Here!\"})]})]})]});};export default Login;","map":{"version":3,"names":["React","useState","Link","useNavigate","useAuth","login","jsx","_jsx","jsxs","_jsxs","Login","email","setEmail","password","setPassword","error","setError","authenticateUser","navigate","handleSubmit","e","preventDefault","userData","err","console","className","children","onSubmit","htmlFor","type","id","value","onChange","target","required","to"],"sources":["/home/manasa/Projects/UpGrad/Project/bookShelf/client/src/components/Auth/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../../context/AuthContext';\nimport { login } from '../../services/api'; // Ensure the login function is correctly imported from your API file\n\nconst Login = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState(null);\n  const { login: authenticateUser } = useAuth();\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const userData = await login(email, password);\n      authenticateUser(userData);\n      navigate('/dashboard');  // Redirect to the homepage or dashboard after successful login\n    } catch (err) {\n      console.error('Login failed', err);\n      setError('Invalid email or password');\n    }\n  };\n\n\n  return (\n    <div className=\"login-page\">\n      <p className='app-name'>BookShlef</p>\n      <p className='login'>Login</p>\n      <form onSubmit={handleSubmit}>\n          <label htmlFor=\"email\">Email:</label>\n          <input type=\"email\" id=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} required/>\n          <label htmlFor=\"password\">Password:</label>\n          <input type=\"password\" id=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} required/>\n        {error && <p className=\"error-message\">{error}</p>}\n        <button type=\"submit\">Login</button>\n        <p>Don't have an account? <Link  to=\"/register\">Register Here!</Link></p>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,OAASC,OAAO,KAAQ,2BAA2B,CACnD,OAASC,KAAK,KAAQ,oBAAoB,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5C,KAAM,CAAAC,KAAK,CAAGA,CAAA,GAAM,CAClB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACY,QAAQ,CAAEC,WAAW,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACc,KAAK,CAAEC,QAAQ,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAAEI,KAAK,CAAEY,gBAAiB,CAAC,CAAGb,OAAO,CAAC,CAAC,CAC7C,KAAM,CAAAc,QAAQ,CAAGf,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAgB,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAjB,KAAK,CAACM,KAAK,CAAEE,QAAQ,CAAC,CAC7CI,gBAAgB,CAACK,QAAQ,CAAC,CAC1BJ,QAAQ,CAAC,YAAY,CAAC,CAAG;AAC3B,CAAE,MAAOK,GAAG,CAAE,CACZC,OAAO,CAACT,KAAK,CAAC,cAAc,CAAEQ,GAAG,CAAC,CAClCP,QAAQ,CAAC,2BAA2B,CAAC,CACvC,CACF,CAAC,CAGD,mBACEP,KAAA,QAAKgB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBnB,IAAA,MAAGkB,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,WAAS,CAAG,CAAC,cACrCnB,IAAA,MAAGkB,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,OAAK,CAAG,CAAC,cAC9BjB,KAAA,SAAMkB,QAAQ,CAAER,YAAa,CAAAO,QAAA,eACzBnB,IAAA,UAAOqB,OAAO,CAAC,OAAO,CAAAF,QAAA,CAAC,QAAM,CAAO,CAAC,cACrCnB,IAAA,UAAOsB,IAAI,CAAC,OAAO,CAACC,EAAE,CAAC,OAAO,CAACC,KAAK,CAAEpB,KAAM,CAACqB,QAAQ,CAAGZ,CAAC,EAAKR,QAAQ,CAACQ,CAAC,CAACa,MAAM,CAACF,KAAK,CAAE,CAACG,QAAQ,MAAC,CAAC,cAClG3B,IAAA,UAAOqB,OAAO,CAAC,UAAU,CAAAF,QAAA,CAAC,WAAS,CAAO,CAAC,cAC3CnB,IAAA,UAAOsB,IAAI,CAAC,UAAU,CAACC,EAAE,CAAC,UAAU,CAACC,KAAK,CAAElB,QAAS,CAACmB,QAAQ,CAAGZ,CAAC,EAAKN,WAAW,CAACM,CAAC,CAACa,MAAM,CAACF,KAAK,CAAE,CAACG,QAAQ,MAAC,CAAC,CAC/GnB,KAAK,eAAIR,IAAA,MAAGkB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAEX,KAAK,CAAI,CAAC,cAClDR,IAAA,WAAQsB,IAAI,CAAC,QAAQ,CAAAH,QAAA,CAAC,OAAK,CAAQ,CAAC,cACpCjB,KAAA,MAAAiB,QAAA,EAAG,yBAAuB,cAAAnB,IAAA,CAACL,IAAI,EAAEiC,EAAE,CAAC,WAAW,CAAAT,QAAA,CAAC,gBAAc,CAAM,CAAC,EAAG,CAAC,EACrE,CAAC,EACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhB,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}